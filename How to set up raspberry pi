sudo apt update

sudo apt full-upgrade

sudo raspi-config
#select boot/autologin desktop

#make sure sh files are in the right directory

chmod +x /home/pi/django_server_run.sh
chmod +x /home/pi/run_kiosk.sh

cd Downloads

git pull https://github.com/Iisyourdad/raspberrypi_recipe.git


sudo apt update
sudo apt install python3-venv

python3 -m venv venv

source venv/bin/activate

pip install asgiref, Django, django-ckeditor, django-crispy-forms, django-js-asset, pillow, sqlparse, tzdata, gunicorn

cd ..

chmod +x /home/pi/django_server_run.sh
chmod +x /home/pi/run_kiosk.sh

sudo nano /etc/systemd/system/django.service
"""

[Unit]
Description=Django Server
After=network.target

[Service]
User=pi
ExecStart=/home/pi/django_server_run.sh
Restart=always

[Install]
WantedBy=multi-user.target

"""
sudo nano /etc/systemd/system/kiosk.service
"""

[Unit]
Description=Kiosk Service
After=network.target

[Service]
User=pi
ExecStart=/home/pi/run_kiosk.sh
Restart=always

[Install]
WantedBy=multi-user.target

"""
sudo systemctl daemon-reload
sudo systemctl enable django.service
sudo systemctl enable kiosk.service
sudo systemctl start django.service
sudo systemctl start kiosk.service
